import { useState } from "react";

function App() {
  const [step, setStep] = useState("start");
  const [emotion, setEmotion] = useState(null);
  const [xp, setXp] = useState(0);

  const emotions = [
    { emoji: "ğŸ˜Š", label: "í‰ì˜¨" },
    { emoji: "ğŸ˜", label: "ë¬´ê¸°ë ¥" },
    { emoji: "ğŸ˜£", label: "ë¶ˆì•ˆ" },
    { emoji: "ğŸ˜¡", label: "ì§œì¦" },
    { emoji: "ğŸ¤©", label: "ë“¤ëœ¸" },
    { emoji: "ğŸ’¤", label: "í”¼ê³¤" },
  ];

  const cards = {
    ë¬´ê¸°ë ¥: ["ë¬¼ í•œ ì” ë§ˆì‹œê¸°ë¶€í„° ì‹œì‘í•´ë³´ì.", "ìë¦¬ì— ì•‰ì•„ì„œ í•œ ê°€ì§€ ì •ë¦¬ë§Œ í•´ë³´ì."],
    ë¶ˆì•ˆ: ["íƒ€ì´ë¨¸ 3ë¶„ ë§ì¶”ê³  ì† ì •ë¦¬ í•´ë³´ì.", "ë¶ˆì•ˆì„ ì¤„ì´ë ¤ë©´ ì‘ì€ ì¼ë¶€í„° ì •ë¦¬í•´ë³´ì."],
    ë“¤ëœ¸: ["í•˜ê³  ì‹¶ì—ˆë˜ ê±¸ ë©”ëª¨ì¥ì— ì •ë¦¬í•´ë³´ì!", "ìŠ¤íŠ¸ë ˆì¹­í•˜ê³  ë‹¤ì‹œ ë‹¤ì´ì–´ë¦¬ì— ì§‘ì¤‘!"],
    ì§œì¦: ["ê¹Šì€ ìˆ¨ í•œ ë²ˆ, ê·¸ë¦¬ê³  ì† ì •ë¦¬ 3ë¶„.", "ìŒì•… ë“¤ìœ¼ë©° ì±…ìƒ ì •ë¦¬í•´ë³´ì."],
    í‰ì˜¨: ["ì´ ê¸°ë¶„ ìœ ì§€í•˜ë©° ì‘ì€ ë£¨í‹´ í•˜ë‚˜ í•´ë³¼ê¹Œ?", "ê°ì‚¬í•œ ì¼ í•œ ê°€ì§€ ì ì–´ë³´ê¸°"],
    í”¼ê³¤: ["ì ê¹ ëˆ„ì›Œì„œ 5ë¶„ ëˆˆ ê°ê¸°.", "ì‹¬í˜¸í¡ 3íšŒì™€ ë¬¼ í•œ ì»µ!"],
  };

  const handleEmotionSelect = (label) => {
    setEmotion(label);
    setStep("card");
  };

  const handleCardAction = () => {
    setXp((prev) => prev + 10);
    setStep("result");
  };

  return (
    <div className="min-h-screen p-4 flex flex-col items-center justify-center text-center">
      {step === "start" && (
        <div>
          <h1 className="text-2xl font-bold mb-4">ì˜¤ëŠ˜ ê¸°ë¶„ì€ ì–´ë•Œìš”?</h1>
          <div className="grid grid-cols-3 gap-4">
            {emotions.map((e) => (
              <button
                key={e.label}
                className="bg-blue-200 hover:bg-blue-300 px-4 py-2 rounded"
                onClick={() => handleEmotionSelect(e.label)}
              >
                {e.emoji} {e.label}
              </button>
            ))}
          </div>
        </div>
      )}

      {step === "card" && (
        <div>
          <h2 className="text-xl font-semibold mb-2">{emotion} ì‹¤í–‰ ì¹´ë“œ</h2>
          <p className="mb-4">
            {cards[emotion][Math.floor(Math.random() * cards[emotion].length)]}
          </p>
          <button
            className="bg-green-300 hover:bg-green-400 px-4 py-2 rounded"
            onClick={handleCardAction}
          >
            í•´ë³¼ê²Œìš”!
          </button>
        </div>
      )}

      {step === "result" && (
        <div>
          <h2 className="text-2xl font-bold mb-2">ğŸ‰ ì˜í–ˆì–´ìš”!</h2>
          <p className="mb-2">+10 XP íšë“ ğŸ¯</p>
          <p className="mb-4">í˜„ì¬ ì´ ê²½í—˜ì¹˜: {xp} XP</p>
          <button
            className="bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded"
            onClick={() => setStep("start")}
          >
            ë‹¤ì‹œ ì‹œì‘í•˜ê¸°
          </button>
        </div>
      )}
    </div>
  );
}

export default App;
